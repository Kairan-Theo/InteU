<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InteU ‚Äî Manage Internships</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="css/styles.css" />
    <style>
        /* Remove header bar styling to make it seamless */
        .site-header {
          position: static !important;
          background: transparent !important;
          backdrop-filter: none !important;
          border-bottom: none !important;
          box-shadow: none !important;
        }
        
        .header-inner {
          padding: 20px 0 !important;
        }

        /* Compact Heading Bar Navigation Styling */
        .company-nav {
          margin: 10px auto 0;
          padding: 0;
          list-style: none;
          display: table;
          width: 100%;
          max-width: 800px;
          text-align: center;
          margin-bottom: 15px;
          background: rgba(0, 0, 0, 0.8);
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .company-nav-links {
          display: table;
          width: 100%;
        }

        .nav-main-links {
          display: table-row;
        }

        .nav-main-links a {
          display: table-cell;
          position: relative;
          padding: 8px 12px;
          color: #fff;
          text-transform: uppercase;
          text-decoration: none;
          letter-spacing: 0.1em;
          font-size: 12px;
          font-weight: 500;
          transition: all 0.3s ease;
        }

        .nav-main-links a:after {
          background: none repeat scroll 0 0 transparent;
          bottom: 0;
          content: "";
          display: block;
          height: 2px;
          left: 50%;
          position: absolute;
          background: #4CAF50;
          transition: width 0.3s ease 0s, left 0.3s ease 0s;
          width: 0;
        }

        .nav-main-links a:hover {
          background: rgba(255, 255, 255, 0.1);
          color: #4CAF50;
        }

        .nav-main-links a:hover:after {
          width: 100%;
          left: 0;
        }

        .nav-main-links a.active {
          background: rgba(76, 175, 80, 0.2);
          color: #4CAF50;
        }

        .nav-main-links a.active:after {
          width: 100%;
          left: 0;
        }

        @media screen and (max-width: 768px) {
          .company-nav {
            margin: 5px;
            width: calc(100% - 10px);
          }
          
          .nav-main-links a {
            font-size: 10px;
            padding: 6px 8px;
          }
        }
      .internships-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
      }
      .filters {
        display: flex;
        gap: 12px;
        align-items: center;
        margin-bottom: 24px;
      }
      .filter-select {
        padding: 8px 12px;
        border: 1px solid rgba(0,0,0,0.1);
        border-radius: 8px;
        background: var(--card);
        color: var(--text);
      }
      .internship-card {
        background: var(--card);
        border: 1px solid rgba(0,0,0,0.06);
        border-radius: 14px;
        box-shadow: var(--shadow);
        padding: 24px;
        margin-bottom: 16px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      .internship-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      }
      .internship-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 16px;
      }
      .internship-title {
        font-size: 20px;
        font-weight: 700;
        color: var(--text);
        margin-bottom: 4px;
      }
      .internship-meta {
        display: flex;
        gap: 16px;
        margin-bottom: 12px;
        flex-wrap: wrap;
      }
      .meta-item {
        display: flex;
        align-items: center;
        gap: 6px;
        color: var(--muted);
        font-size: 14px;
      }
      .status-badge {
        padding: 4px 12px;
        border-radius: 16px;
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
      }
      .status-active {
        background: #e8f5e8;
        color: #2d5a2d;
      }
      .status-closed {
        background: #fee;
        color: #c53030;
      }
      .status-draft {
        background: #fff3cd;
        color: #856404;
      }
      .status-expired {
        background: #f8f9fa;
        color: #6c757d;
      }
      .internship-stats {
        display: flex;
        gap: 24px;
        margin-bottom: 16px;
      }
      .stat-item {
        text-align: center;
      }
      .stat-number {
        font-size: 24px;
        font-weight: 700;
        color: var(--primary);
      }
      .stat-label {
        font-size: 12px;
        color: var(--muted);
        text-transform: uppercase;
      }
      .internship-actions {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }
      .action-btn {
        padding: 6px 12px;
        border: 1px solid rgba(0,0,0,0.1);
        border-radius: 6px;
        background: var(--card);
        color: var(--text);
        text-decoration: none;
        font-size: 14px;
        transition: all 0.2s ease;
        cursor: pointer;
      }
      .action-btn:hover {
        background: var(--primary);
        color: white;
        text-decoration: none;
      }
      .action-btn.danger:hover {
        background: #dc3545;
        color: white;
      }
      .empty-state {
        text-align: center;
        padding: 48px 24px;
        color: var(--muted);
      }
      .empty-state img {
        width: 120px;
        height: 120px;
        opacity: 0.5;
        margin-bottom: 16px;
      }
      .search-bar {
        position: relative;
        flex: 1;
        max-width: 300px;
      }
      .search-input {
        width: 100%;
        padding: 8px 12px 8px 36px;
        border: 1px solid rgba(0,0,0,0.1);
        border-radius: 8px;
        background: var(--card);
        color: var(--text);
      }
      .search-icon {
        position: absolute;
        left: 12px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--muted);
      }
      .bulk-actions {
        display: none;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: rgba(75, 123, 229, 0.1);
        border-radius: 8px;
        margin-bottom: 16px;
      }
      .bulk-actions.show {
        display: flex;
      }
      .internship-checkbox {
        margin-right: 12px;
      }
    </style>
  </head>
  <body data-page="dashboard">
  <header class="site-header" aria-label="Company Portal Navigation">
    <div class="container header-inner">
      <a class="logo" href="index.html">
        <span class="logo-mark">üè¢</span> 
        InteU <span style="color: var(--primary); font-weight: 600;">Companies</span>
      </a>

      <div class="actions">
        <input type="checkbox" id="dark-mode" aria-label="Toggle theme" hidden>
        <label for="dark-mode" class="theme-switch" aria-label="Toggle theme"></label>
        <a href="profile.html" class="btn small">Profile</a>
        <a href="auth/login.html" class="btn small primary">Logout</a>
      </div>
    </div>
  </header>

    <main class="container">
      <!-- Company Navigation -->
      <nav class="company-nav">
        <div class="company-nav-links">
          <div class="nav-main-links">
            <a href="dashboard.html" class="company-nav-link">Dashboard</a>
            <a href="post-internship.html" class="company-nav-link">Post Internship</a>
            <a href="manage-internships.html" class="company-nav-link active">Manage Internships</a>
            <a href="view-applicants.html" class="company-nav-link">View Applicants</a>
            <a href="messages.html" class="company-nav-link">Messages</a>
            <a href="profile.html" class="company-nav-link">Company Profile</a>
          </div>
        </div>
      </nav>

      <section class="card">
        <div class="internships-header">
          <div>
            <h1 class="card-title">Manage Internships</h1>
            <p class="muted">View and manage all your posted internship opportunities</p>
          </div>
          <a href="post-internship.html" class="btn primary">Post New Internship</a>
        </div>

        <!-- Filters and Search -->
        <div class="filters">
          <div class="search-bar">
            <span class="search-icon">üîç</span>
            <input type="text" class="search-input" id="searchInput" placeholder="Search internships..." />
          </div>
          <select class="filter-select" id="statusFilter">
            <option value="">All Status</option>
            <option value="active">Active</option>
            <option value="draft">Draft</option>
            <option value="closed">Closed</option>
            <option value="expired">Expired</option>
          </select>
          <select class="filter-select" id="departmentFilter">
            <option value="">All Departments</option>
            <option value="engineering">Engineering</option>
            <option value="marketing">Marketing</option>
            <option value="design">Design</option>
            <option value="sales">Sales</option>
            <option value="hr">Human Resources</option>
            <option value="finance">Finance</option>
          </select>
          <select class="filter-select" id="sortBy">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
            <option value="deadline">Deadline</option>
            <option value="applicants">Most Applicants</option>
          </select>
        </div>

        <!-- Bulk Actions -->
        <div class="bulk-actions" id="bulkActions">
          <span id="selectedCount">0 selected</span>
          <button class="btn small" id="bulkActivateBtn">Activate</button>
          <button class="btn small" id="bulkCloseBtn">Close</button>
          <button class="btn small danger" id="bulkDeleteBtn">Delete</button>
        </div>

        <!-- Internships List -->
        <div id="internshipsList">
          <!-- Sample Internship Cards -->
          <div class="internship-card" data-status="active" data-department="engineering">
            <div class="internship-header">
              <div style="display: flex; align-items: flex-start; gap: 12px;">
                <input type="checkbox" class="internship-checkbox" data-id="1" />
                <div>
                  <div class="internship-title">Software Engineering Intern</div>
                  <div class="internship-meta">
                    <div class="meta-item">
                      <span>üìç</span>
                      <span>San Francisco, CA</span>
                    </div>
                    <div class="meta-item">
                      <span>‚è∞</span>
                      <span>3 months</span>
                    </div>
                    <div class="meta-item">
                      <span>üíº</span>
                      <span>Full-time</span>
                    </div>
                    <div class="meta-item">
                      <span>üìÖ</span>
                      <span>Posted 2 days ago</span>
                    </div>
                  </div>
                </div>
              </div>
              <span class="status-badge status-active">Active</span>
            </div>

            <div class="internship-stats">
              <div class="stat-item">
                <div class="stat-number">24</div>
                <div class="stat-label">Applicants</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">156</div>
                <div class="stat-label">Views</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">12</div>
                <div class="stat-label">Days Left</div>
              </div>
            </div>

            <div class="internship-actions">
              <a href="view-applicants.html?id=1" class="action-btn">View Applicants (24)</a>
              <a href="post-internship.html?edit=1" class="action-btn">Edit</a>
              <button class="action-btn" onclick="duplicateInternship(1)">Duplicate</button>
              <button class="action-btn" onclick="toggleStatus(1, 'closed')">Close</button>
              <button class="action-btn danger" onclick="deleteInternship(1)">Delete</button>
            </div>
          </div>

          <div class="internship-card" data-status="draft" data-department="marketing">
            <div class="internship-header">
              <div style="display: flex; align-items: flex-start; gap: 12px;">
                <input type="checkbox" class="internship-checkbox" data-id="2" />
                <div>
                  <div class="internship-title">Marketing Intern</div>
                  <div class="internship-meta">
                    <div class="meta-item">
                      <span>üìç</span>
                      <span>Remote</span>
                    </div>
                    <div class="meta-item">
                      <span>‚è∞</span>
                      <span>6 months</span>
                    </div>
                    <div class="meta-item">
                      <span>üíº</span>
                      <span>Part-time</span>
                    </div>
                    <div class="meta-item">
                      <span>üìÖ</span>
                      <span>Draft saved 1 hour ago</span>
                    </div>
                  </div>
                </div>
              </div>
              <span class="status-badge status-draft">Draft</span>
            </div>

            <div class="internship-stats">
              <div class="stat-item">
                <div class="stat-number">0</div>
                <div class="stat-label">Applicants</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">0</div>
                <div class="stat-label">Views</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">-</div>
                <div class="stat-label">Days Left</div>
              </div>
            </div>

            <div class="internship-actions">
              <a href="post-internship.html?edit=2" class="action-btn">Continue Editing</a>
              <button class="action-btn" onclick="publishDraft(2)">Publish</button>
              <button class="action-btn" onclick="duplicateInternship(2)">Duplicate</button>
              <button class="action-btn danger" onclick="deleteInternship(2)">Delete</button>
            </div>
          </div>

          <div class="internship-card" data-status="closed" data-department="design">
            <div class="internship-header">
              <div style="display: flex; align-items: flex-start; gap: 12px;">
                <input type="checkbox" class="internship-checkbox" data-id="3" />
                <div>
                  <div class="internship-title">UX Design Intern</div>
                  <div class="internship-meta">
                    <div class="meta-item">
                      <span>üìç</span>
                      <span>New York, NY</span>
                    </div>
                    <div class="meta-item">
                      <span>‚è∞</span>
                      <span>4 months</span>
                    </div>
                    <div class="meta-item">
                      <span>üíº</span>
                      <span>Full-time</span>
                    </div>
                    <div class="meta-item">
                      <span>üìÖ</span>
                      <span>Closed 1 week ago</span>
                    </div>
                  </div>
                </div>
              </div>
              <span class="status-badge status-closed">Closed</span>
            </div>

            <div class="internship-stats">
              <div class="stat-item">
                <div class="stat-number">67</div>
                <div class="stat-label">Applicants</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">423</div>
                <div class="stat-label">Views</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">-</div>
                <div class="stat-label">Days Left</div>
              </div>
            </div>

            <div class="internship-actions">
              <a href="view-applicants.html?id=3" class="action-btn">View Applicants (67)</a>
              <button class="action-btn" onclick="duplicateInternship(3)">Duplicate</button>
              <button class="action-btn" onclick="toggleStatus(3, 'active')">Reopen</button>
              <button class="action-btn danger" onclick="deleteInternship(3)">Delete</button>
            </div>
          </div>

          <div class="internship-card" data-status="expired" data-department="engineering">
            <div class="internship-header">
              <div style="display: flex; align-items: flex-start; gap: 12px;">
                <input type="checkbox" class="internship-checkbox" data-id="4" />
                <div>
                  <div class="internship-title">Data Science Intern</div>
                  <div class="internship-meta">
                    <div class="meta-item">
                      <span>üìç</span>
                      <span>Boston, MA</span>
                    </div>
                    <div class="meta-item">
                      <span>‚è∞</span>
                      <span>3 months</span>
                    </div>
                    <div class="meta-item">
                      <span>üíº</span>
                      <span>Full-time</span>
                    </div>
                    <div class="meta-item">
                      <span>üìÖ</span>
                      <span>Expired 3 days ago</span>
                    </div>
                  </div>
                </div>
              </div>
              <span class="status-badge status-expired">Expired</span>
            </div>

            <div class="internship-stats">
              <div class="stat-item">
                <div class="stat-number">18</div>
                <div class="stat-label">Applicants</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">234</div>
                <div class="stat-label">Views</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">-</div>
                <div class="stat-label">Days Left</div>
              </div>
            </div>

            <div class="internship-actions">
              <a href="view-applicants.html?id=4" class="action-btn">View Applicants (18)</a>
              <button class="action-btn" onclick="duplicateInternship(4)">Duplicate</button>
              <button class="action-btn" onclick="extendDeadline(4)">Extend Deadline</button>
              <button class="action-btn danger" onclick="deleteInternship(4)">Delete</button>
            </div>
          </div>
        </div>

        <!-- Empty State (hidden by default) -->
        <div class="empty-state" id="emptyState" style="display: none;">
          <img src="../images/user.svg" alt="No internships" />
          <h3>No internships found</h3>
          <p>You haven't posted any internships yet, or none match your current filters.</p>
          <a href="post-internship.html" class="btn primary">Post Your First Internship</a>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-grid">
        <div>
          <h4>Help & Support</h4>
          <ul>
            <li><a href="#" id="contactUsLink">Contact us</a></li>
            <li><a href="#" id="faqLink">FAQ</a></li>
          </ul>
        </div>
        <div>
          <h4>Privacy</h4>
          <ul>
            <li><a href="#" id="privacyPolicyLink">Privacy Policy</a></li>
            <li><a href="#" id="pdpaNoticeLink">PDPA Notice</a></li>
          </ul>
        </div>
        <div>
          <h4>InteU</h4>
          <p class="muted">Trusted internships for global learners.</p>
        </div>
      </div>
    </footer>

    <div id="toastContainer" class="toast-container" aria-live="polite" aria-atomic="true"></div>

    <script src="js/main.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('searchInput');
        const statusFilter = document.getElementById('statusFilter');
        const departmentFilter = document.getElementById('departmentFilter');
        const sortBy = document.getElementById('sortBy');
        const internshipsList = document.getElementById('internshipsList');
        const emptyState = document.getElementById('emptyState');
        const bulkActions = document.getElementById('bulkActions');
        const selectedCount = document.getElementById('selectedCount');

        // Filter and search functionality
        function filterInternships() {
          const searchTerm = searchInput.value.toLowerCase();
          const statusValue = statusFilter.value;
          const departmentValue = departmentFilter.value;
          const cards = internshipsList.querySelectorAll('.internship-card');
          let visibleCount = 0;

          cards.forEach(card => {
            const title = card.querySelector('.internship-title').textContent.toLowerCase();
            const status = card.dataset.status;
            const department = card.dataset.department;

            const matchesSearch = title.includes(searchTerm);
            const matchesStatus = !statusValue || status === statusValue;
            const matchesDepartment = !departmentValue || department === departmentValue;

            if (matchesSearch && matchesStatus && matchesDepartment) {
              card.style.display = 'block';
              visibleCount++;
            } else {
              card.style.display = 'none';
            }
          });

          // Show empty state if no results
          if (visibleCount === 0) {
            internshipsList.style.display = 'none';
            emptyState.style.display = 'block';
          } else {
            internshipsList.style.display = 'block';
            emptyState.style.display = 'none';
          }
        }

        // Bulk selection functionality
        function updateBulkActions() {
          const checkboxes = document.querySelectorAll('.internship-checkbox:checked');
          const count = checkboxes.length;
          
          if (count > 0) {
            bulkActions.classList.add('show');
            selectedCount.textContent = `${count} selected`;
          } else {
            bulkActions.classList.remove('show');
          }
        }

        // Event listeners
        searchInput.addEventListener('input', filterInternships);
        statusFilter.addEventListener('change', filterInternships);
        departmentFilter.addEventListener('change', filterInternships);

        // Checkbox event listeners
        document.addEventListener('change', function(e) {
          if (e.target.classList.contains('internship-checkbox')) {
            updateBulkActions();
          }
        });

        // Bulk action buttons
        document.getElementById('bulkActivateBtn').addEventListener('click', function() {
          const selected = document.querySelectorAll('.internship-checkbox:checked');
          showToast(`Activated ${selected.length} internships`, 'success');
          selected.forEach(cb => cb.checked = false);
          updateBulkActions();
        });

        document.getElementById('bulkCloseBtn').addEventListener('click', function() {
          const selected = document.querySelectorAll('.internship-checkbox:checked');
          showToast(`Closed ${selected.length} internships`, 'success');
          selected.forEach(cb => cb.checked = false);
          updateBulkActions();
        });

        document.getElementById('bulkDeleteBtn').addEventListener('click', function() {
          const selected = document.querySelectorAll('.internship-checkbox:checked');
          if (confirm(`Are you sure you want to delete ${selected.length} internships?`)) {
            showToast(`Deleted ${selected.length} internships`, 'success');
            selected.forEach(cb => {
              cb.closest('.internship-card').remove();
            });
            updateBulkActions();
            filterInternships();
          }
        });

        // Logout functionality
        document.getElementById('logoutBtn').addEventListener('click', function() {
          if (confirm('Are you sure you want to logout?')) {
            showToast('Logging out...', 'info');
            setTimeout(() => {
              window.location.href = '../pages/auth/login.html';
            }, 1000);
          }
        });
      });

      // Individual internship actions
      function toggleStatus(id, newStatus) {
        showToast(`Internship ${newStatus === 'active' ? 'activated' : 'closed'} successfully`, 'success');
        // Update UI accordingly
      }

      function duplicateInternship(id) {
        showToast('Internship duplicated successfully', 'success');
        setTimeout(() => {
          window.location.href = 'post-internship.html?duplicate=' + id;
        }, 1000);
      }

      function deleteInternship(id) {
        if (confirm('Are you sure you want to delete this internship? This action cannot be undone.')) {
          showToast('Internship deleted successfully', 'success');
          // Remove the card from DOM
          document.querySelector(`[data-id="${id}"]`).closest('.internship-card').remove();
        }
      }

      function publishDraft(id) {
        showToast('Draft published successfully', 'success');
        // Update status badge and actions
      }

      function extendDeadline(id) {
        const newDate = prompt('Enter new deadline (YYYY-MM-DD):');
        if (newDate) {
          showToast('Deadline extended successfully', 'success');
        }
      }
    </script>
  </body>
</html>